/* Common Button Base Styles */
.btn-common {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    border-radius: 8px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    font-weight: 600;
    line-height: 1.4;
    text-decoration: none;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    position: relative;
    overflow: hidden;
    white-space: nowrap;
    user-select: none;
    box-sizing: border-box;
    
    /* CSS Variables for colors - will be overridden by variants */
    --btn-bg: transparent;
    --btn-bg-hover: transparent;
    --btn-bg-active: transparent;
    --btn-text: #000;
    --btn-text-hover: #000;
    --btn-text-active: #000;
    --btn-border: transparent;
    --btn-border-hover: transparent;
    --btn-border-active: transparent;
    --btn-shadow: rgba(0, 0, 0, 0.1);
    
    background-color: var(--btn-bg);
    color: var(--btn-text);
    border: var(--btn-border-width, 0) solid var(--btn-border);
}

/* Size variants */
.btn-small {
    width: 61px;
    height: 32px;
    padding: 6px 8px;
    font-size: 14px;
}

.btn-medium {
    width: 77px;
    height: 40px;
    padding: 8px 16px;
    font-size: 14px;
}

.btn-large {
    width: 99px;
    height: 48px;
    padding: 12px 24px;
    font-size: 16px;
}

/* Ghost button size overrides */
.btn-common[class*="ghost"].btn-small,
.btn-common[class*="ghost"].btn-medium {
    width: auto;
    height: 24px;
    padding: 0;
    font-size: 14px;
}

.btn-common[class*="ghost"].btn-large {
    width: auto;
    height: 24px;
    padding: 0;
    font-size: 16px;
}

/* Hover, Active, Focus States */
.btn-common:hover:not(:disabled):not(.disabled) {
    background-color: var(--btn-bg-hover);
    color: var(--btn-text-hover);
    border-color: var(--btn-border-hover);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px var(--btn-shadow);
}

.btn-common:active {
    background-color: var(--btn-bg-active);
    color: var(--btn-text-active);
    border-color: var(--btn-border-active);
    transform: translateY(0);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

.btn-common:focus {
    outline: none;
    box-shadow: 0 0 0 3px var(--btn-shadow);
}

/* Disabled State */
.btn-common:disabled,
.btn-common.disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none !important;
    box-shadow: none !important;
    pointer-events: none;
}

.btn-common:disabled:hover,
.btn-common.disabled:hover {
    background-color: var(--btn-bg) !important;
    color: var(--btn-text) !important;
    border-color: var(--btn-border) !important;
    transform: none !important;
    box-shadow: none !important;
    opacity: 0.5 !important;
}

/* Loading State */
.btn-common.btn-loading {
    pointer-events: none;
}

.btn-common.btn-loading .btn-text {
    opacity: 0.7;
}

/* Loading Spinner */
.btn-common .btn-spinner {
    width: 16px;
    height: 16px;
    border: 2px solid transparent;
    border-top: 2px solid currentColor;
    border-radius: 50%;
    animation: btn-spin 1s linear infinite;
}

@keyframes btn-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Icons */
.btn-common .btn-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: color 0.2s ease-in-out;
}

.btn-small .btn-icon,
.btn-medium .btn-icon {
    width: 20px;
    height: 20px;
}

.btn-large .btn-icon {
    width: 24px;
    height: 24px;
}

/* Text styling */
.btn-common .btn-text {
    font-weight: 600;
    letter-spacing: 0.025em;
    flex: 1;
    text-align: center;
}

/* BRAND VARIANTS */
.btn-brand-primary {
    --btn-bg: rgb(104, 128, 246);
    --btn-bg-hover: rgb(82, 101, 194);
    --btn-bg-active: rgb(93, 114, 219);
    --btn-text: rgb(252, 252, 252);
    --btn-text-hover: rgb(252, 252, 252);
    --btn-text-active: rgb(252, 252, 252);
    --btn-shadow: rgba(104, 128, 246, 0.3);
}

.btn-brand-secondary {
    --btn-bg: transparent;
    --btn-bg-hover: transparent;
    --btn-bg-active: transparent;
    --btn-text: rgb(104, 128, 246);
    --btn-text-hover: rgb(82, 101, 194);
    --btn-text-active: rgb(93, 114, 219);
    --btn-border: rgb(104, 128, 246);
    --btn-border-hover: rgb(82, 101, 194);
    --btn-border-active: rgb(93, 114, 219);
    --btn-border-width: 1.5px;
    --btn-shadow: rgba(104, 128, 246, 0.2);
}

.btn-brand-danger {
    --btn-bg: rgb(240, 242, 250);
    --btn-bg-hover: rgb(226, 229, 246);
    --btn-bg-active: rgb(202, 209, 246);
    --btn-text: rgb(104, 128, 246);
    --btn-text-hover: rgb(104, 128, 246);
    --btn-text-active: rgb(104, 128, 246);
    --btn-shadow: rgba(104, 128, 246, 0.15);
}

/* BLACK/NEUTRAL VARIANTS */
.btn-black-solid {
    --btn-bg: rgb(18, 18, 20);
    --btn-bg-hover: rgb(32, 33, 36);
    --btn-bg-active: rgb(63, 64, 71);
    --btn-text: rgb(252, 252, 252);
    --btn-text-hover: rgb(252, 252, 252);
    --btn-text-active: rgb(252, 252, 252);
    --btn-shadow: rgba(18, 18, 20, 0.3);
}

.btn-black-outline {
    --btn-bg: transparent;
    --btn-bg-hover: rgb(240, 242, 245);
    --btn-bg-active: rgb(218, 220, 224);
    --btn-text: rgb(18, 18, 20);
    --btn-text-hover: rgb(18, 18, 20);
    --btn-text-active: rgb(18, 18, 20);
    --btn-border: rgb(218, 220, 224);
    --btn-border-hover: rgb(191, 193, 199);
    --btn-border-active: rgb(191, 193, 199);
    --btn-border-width: 1.5px;
    --btn-shadow: rgba(18, 18, 20, 0.1);
}

.btn-black-ghost {
    --btn-bg: transparent;
    --btn-bg-hover: transparent;
    --btn-bg-active: transparent;
    --btn-text: rgb(18, 18, 20);
    --btn-text-hover: rgb(78, 79, 87);
    --btn-text-active: rgb(18, 18, 20);
    --btn-shadow: rgba(18, 18, 20, 0.15);
}

.btn-black-ghost .btn-icon {
    color: rgb(78, 79, 87);
}

.btn-black-ghost:hover:not(:disabled):not(.disabled) .btn-icon {
    color: rgb(136, 138, 148);
}

.btn-black-ghost:active .btn-icon {
    color: rgb(18, 18, 20);
}

/* RED/STATUS VARIANTS */
.btn-red-solid {
    --btn-bg: rgb(229, 64, 64);
    --btn-bg-hover: rgb(255, 71, 71);
    --btn-bg-active: rgb(255, 97, 97);
    --btn-text: rgb(252, 252, 252);
    --btn-text-hover: rgb(252, 252, 252);
    --btn-text-active: rgb(252, 252, 252);
    --btn-shadow: rgba(229, 64, 64, 0.3);
}

.btn-red-outline {
    --btn-bg: transparent;
    --btn-bg-hover: transparent;
    --btn-bg-active: transparent;
    --btn-text: rgb(229, 64, 64);
    --btn-text-hover: rgb(229, 64, 64);
    --btn-text-active: rgb(229, 64, 64);
    --btn-border: rgb(229, 64, 64);
    --btn-border-hover: rgb(255, 71, 71);
    --btn-border-active: rgb(255, 97, 97);
    --btn-border-width: 1.5px;
    --btn-shadow: rgba(229, 64, 64, 0.2);
}

.btn-red-tonal {
    --btn-bg: rgb(255, 229, 229);
    --btn-bg-hover: rgb(255, 199, 199);
    --btn-bg-active: rgb(255, 173, 173);
    --btn-text: rgb(229, 64, 64);
    --btn-text-hover: rgb(229, 64, 64);
    --btn-text-active: rgb(229, 64, 64);
    --btn-shadow: rgba(229, 64, 64, 0.15);
}

.btn-red-ghost {
    --btn-bg: transparent;
    --btn-bg-hover: transparent;
    --btn-bg-active: transparent;
    --btn-text: rgb(229, 64, 64);
    --btn-text-hover: rgb(255, 71, 71);
    --btn-text-active: rgb(255, 71, 71);
    --btn-shadow: rgba(229, 64, 64, 0.25);
}

.btn-red-ghost .btn-icon {
    color: rgb(229, 64, 64);
}

.btn-red-ghost:hover:not(:disabled):not(.disabled) .btn-icon {
    color: rgb(255, 97, 97);
}

.btn-red-ghost:active .btn-icon {
    color: rgb(229, 64, 64);
}

/* GREEN/SUCCESS VARIANTS */
.btn-green-solid {
    --btn-bg: rgb(0, 143, 71);
    --btn-bg-hover: rgb(0, 163, 81);
    --btn-bg-active: rgb(14, 178, 96);
    --btn-text: rgb(252, 252, 252);
    --btn-text-hover: rgb(252, 252, 252);
    --btn-text-active: rgb(252, 252, 252);
    --btn-shadow: rgba(0, 143, 71, 0.3);
}

.btn-green-outline {
    --btn-bg: transparent;
    --btn-bg-hover: transparent;
    --btn-bg-active: transparent;
    --btn-text: rgb(0, 143, 71);
    --btn-text-hover: rgb(0, 143, 71);
    --btn-text-active: rgb(0, 143, 71);
    --btn-border: rgb(0, 143, 71);
    --btn-border-hover: rgb(0, 163, 81);
    --btn-border-active: rgb(14, 178, 96);
    --btn-border-width: 1.5px;
    --btn-shadow: rgba(0, 143, 71, 0.2);
}

.btn-green-tonal {
    --btn-bg: rgb(220, 245, 232);
    --btn-bg-hover: rgb(187, 240, 212);
    --btn-bg-active: rgb(145, 229, 187);
    --btn-text: rgb(0, 143, 71);
    --btn-text-hover: rgb(0, 143, 71);
    --btn-text-active: rgb(0, 143, 71);
    --btn-shadow: rgba(0, 143, 71, 0.15);
}

.btn-green-ghost {
    --btn-bg: transparent;
    --btn-bg-hover: transparent;
    --btn-bg-active: transparent;
    --btn-text: rgb(0, 143, 71);
    --btn-text-hover: rgb(0, 163, 81);
    --btn-text-active: rgb(14, 178, 96);
    --btn-shadow: rgba(0, 143, 71, 0.25);
}

.btn-green-ghost .btn-icon {
    color: rgb(0, 143, 71);
}

.btn-green-ghost:hover:not(:disabled):not(.disabled) .btn-icon {
    color: rgb(14, 178, 96);
}

.btn-green-ghost:active .btn-icon {
    color: rgb(0, 163, 81);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .btn-small {
        min-width: 61px;
    }
    .btn-medium {
        min-width: 77px;
    }
    .btn-large {
        min-width: 99px;
    }
    
    .btn-common[class*="ghost"] {
        min-width: auto;
        min-height: 24px;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .btn-common {
        border: 1px solid currentColor;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .btn-common {
        transition: none;
    }
    
    .btn-common .btn-spinner {
        animation: none;
    }
    
    .btn-common .btn-icon {
        transition: none;
    }
}
